import Stagger from"../classes/Stagger.js";class StaggerMotionObserver{constructor(){this.element=document.documentElement,this.animationSelectors={staggerAnimations:"[data-stagger-motion-observer]"},this.init()}init(){this.queryDOM(),this.createObserver(),this.observeElements()}queryDOM(){this.elements={};for(const e in this.animationSelectors){const t=this.animationSelectors[e];this.elements[e]=Array.from(this.element.querySelectorAll(t))}}createObserver(){const e=window.innerWidth<768?"-50px":"-100px";this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.staggerInstance.animateIn():e.target.staggerInstance.animateOut()})},{rootMargin:`0px 0px ${e} 0px`})}observeElements(){this.elements.staggerAnimations.forEach(e=>{e.staggerInstance=new Stagger({element:e}),this.intersectionObserver.observe(e),e.addEventListener("unobserve",()=>{this.intersectionObserver.unobserve(e)})})}}export const staggerMotionObserverInstance=new StaggerMotionObserver;