import CSSClass from"../classes/CSSClass.js";import ImageReveal from"../classes/ImageReveal.js";import SectionalBanner from"../classes/SectionalBanner.js";import SplitTitle from"../classes/SplitTitle.js";class MotionObserver{constructor(){this.element=document.documentElement,this.animationSelectors={cssClassAnimations:'[data-motion-observer="css-class"]',imageRevealAnimations:'[data-motion-observer="image-reveal"]',sectionalBanner:'[data-motion-observer="sectional-banner"]',splitTitleAnimations:'[data-motion-observer="split-title"]'},this.init()}init(){this.queryDOM(),this.createObserver(),this.observeElements()}queryDOM(){this.elements={};for(const e in this.animationSelectors){const t=this.animationSelectors[e];this.elements[e]=Array.from(this.element.querySelectorAll(t))}}createObserver(){const e=window.innerHeight>=600&&window.innerHeight<=680?"-50px":"-150px",t=window.innerWidth<768?"-50px":`${e}`;this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.motionInstance.animateIn():e.target.motionInstance.animateOut()})},{rootMargin:`0px 0px ${t} 0px`})}observeElements(){this.elements.cssClassAnimations.forEach(e=>{e.motionInstance=new CSSClass({element:e}),this.intersectionObserver.observe(e),e.addEventListener("unobserve",()=>{this.intersectionObserver.unobserve(e)})}),this.elements.imageRevealAnimations.forEach(e=>{e.motionInstance=new ImageReveal({element:e}),this.intersectionObserver.observe(e),e.addEventListener("unobserve",()=>{this.intersectionObserver.unobserve(e)})}),this.elements.sectionalBanner.forEach(e=>{e.motionInstance=new SectionalBanner({element:e}),this.intersectionObserver.observe(e),e.addEventListener("unobserve",()=>{this.intersectionObserver.unobserve(e)})}),this.elements.splitTitleAnimations.forEach(e=>{e.motionInstance=new SplitTitle({element:e}),e.hasAttribute("data-hero-motion-element")||(this.intersectionObserver.observe(e),e.addEventListener("unobserve",()=>{this.intersectionObserver.unobserve(e)}))})}}export const motionObserverInstance=new MotionObserver;