class TabSliderInterface extends HTMLElement{constructor(){super(),this.cards=[...this.querySelectorAll("[tab-slider-card]")],this.cardList=this.querySelector("[tab-slider-list]"),this.prevButtons=[...this.querySelectorAll("[tab-slider-prev]")],this.nextButtons=[...this.querySelectorAll("[tab-slider-next]")],this.cardsLength=this.cards.length,this.prevClickHandler=this.createPrevClickHandler(),this.nextClickHandler=this.createNextClickHandler(),this.cards.forEach((t,e)=>{t.setAttribute("data-card-number",e)})}setupObservers(){this.cardObserver=new IntersectionObserver(t=>{t.forEach(t=>{const e=t.target;e.hasAttribute("tab-slider-card")&&e.setAttribute("aria-hidden",t.isIntersecting?"false":"true")}),this.setSliderBtnState()},{root:this,threshold:.8}),this.cards.forEach(t=>this.cardObserver.observe(t))}removeObservers(){this.cardObserver&&(this.cards.forEach(t=>this.cardObserver.unobserve(t)),this.cardObserver.disconnect(),this.cardObserver=null)}setSliderBtnState(){const t="false"===this.cards[0].getAttribute("aria-hidden"),e="false"===this.cards[this.cardsLength-1].getAttribute("aria-hidden");this.prevButtons.forEach(e=>e.hidden=t),this.nextButtons.forEach(t=>t.hidden=e)}createNextClickHandler(){return()=>{const t=this.cards.findIndex(t=>"false"===t.getAttribute("aria-hidden")),e=this.cards[t+1];e?this.smoothScrollTo(e):this.smoothScrollTo(null,"last")}}createPrevClickHandler(){return()=>{const t=this.cards.findIndex(t=>"false"===t.getAttribute("aria-hidden")),e=this.cards[t-1];e?this.smoothScrollTo(e):this.smoothScrollTo(null,"first")}}smoothScrollTo(t,e=""){"first"===e?this.cardList.scrollTo({left:0,behavior:"smooth"}):"last"===e?this.cardList.scrollTo({left:this.cardList.scrollWidth,behavior:"smooth"}):t&&this.cardList.scrollTo({left:t.offsetLeft,behavior:"smooth"}),setTimeout(()=>this.setSliderBtnState(),300)}connectedCallback(){this.setupObservers(),this.cardList.addEventListener("scroll",this.setSliderBtnState.bind(this)),this.prevButtons.forEach(t=>{t.addEventListener("click",this.prevClickHandler)}),this.nextButtons.forEach(t=>{t.addEventListener("click",this.nextClickHandler)})}disconnectedCallback(){this.removeObservers(),this.cardList.removeEventListener("scroll",this.setSliderBtnState.bind(this)),this.prevButtons.forEach(t=>{t.removeEventListener("click",this.prevClickHandler)}),this.nextButtons.forEach(t=>{t.removeEventListener("click",this.nextClickHandler)})}}customElements.define("tab-slider-interface",TabSliderInterface);