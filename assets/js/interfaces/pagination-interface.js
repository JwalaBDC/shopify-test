class XPagination extends HTMLElement{constructor(){super(),this.currentPage=parseInt(this.getAttribute("x-current-page"))||1,this.totalResults=parseInt(this.getAttribute("x-total-results"))||1,this.totalPages=Math.ceil(this.totalResults/10),this.classList.add("m-pagination"),this.createPaginationContainer(),this.createPaginationInfo(),this.render()}static get observedAttributes(){return["x-current-page","x-total-results"]}attributeChangedCallback(t,e,a){e!==a&&(this[t.replace("-","")]=parseInt(a),this.render())}createPaginationContainer(){this.container=document.createElement("div"),this.container.classList.add("m-pagination__btns"),this.container.setAttribute("role","navigation"),this.container.setAttribute("aria-label","Pagination")}createPaginationInfo(){this.info=document.createElement("p"),this.info.classList.add("m-pagination__info")}render(){this.innerHTML="",this.container.innerHTML="",this.renderPreviousButton(),this.renderFirstPage(),this.totalPages<7?this.renderAllPagesForSmallPagination():(this.currentPage<4?this.renderInitialPages():this.renderMiddlePages(),this.renderEllipsisBeforeLastPage()),this.renderLastPage(),this.renderNextButton(),this.appendChild(this.container),this.info.textContent=`Showing ${10*parseInt(this.currentPage)} of ${this.totalResults} results`,this.appendChild(this.info)}renderPreviousButton(){const t=this.createButton("←","prev",1===this.currentPage,"Go to previous page");t.addEventListener("click",()=>this.navigateToPage(this.currentPage-1)),this.container.appendChild(t)}renderFirstPage(){const t=this.createButton(1,"page",1===this.currentPage,"Go to page 1");t.addEventListener("click",()=>this.navigateToPage(1)),this.container.appendChild(t)}renderAllPagesForSmallPagination(){for(let t=2;t<=this.totalPages-1;t++){const e=this.createButton(t,"page",this.currentPage===t,`Go to page ${t}`);e.addEventListener("click",()=>this.navigateToPage(t)),this.container.appendChild(e)}}renderInitialPages(){const t=3===this.currentPage?4:3;for(let e=2;e<=t;e++){const t=this.createButton(e,"page",this.currentPage===e,`Go to page ${e}`);t.addEventListener("click",()=>this.navigateToPage(e)),this.container.appendChild(t)}}renderMiddlePages(){const t=this.createEllipsis("Collapsed pages before current range");this.container.appendChild(t);const e=this.currentPage>=this.totalPages-3?this.totalPages-3:this.currentPage-1,a=this.currentPage>=this.totalPages-3?this.totalPages-1:this.currentPage+1;for(let t=e;t<=a;t++){const e=this.createButton(t,"page",this.currentPage===t,`Go to page ${t}`);e.addEventListener("click",()=>this.navigateToPage(t)),this.container.appendChild(e)}}renderEllipsisBeforeLastPage(){if(this.currentPage<this.totalPages-3){const t=this.createEllipsis("Collapsed pages after current range");this.container.appendChild(t)}}renderLastPage(){if(this.totalPages>1){const t=this.createButton(this.totalPages,"page",this.currentPage===this.totalPages,`Go to page ${this.totalPages}`);t.addEventListener("click",()=>this.navigateToPage(this.totalPages)),this.container.appendChild(t)}}renderNextButton(){const t=this.createButton("→","next",this.currentPage===this.totalPages,"Go to next page");t.addEventListener("click",()=>this.navigateToPage(this.currentPage+1)),this.container.appendChild(t)}createButton(t,e,a,i){const n=document.createElement("button");return"prev"==e||"next"==e?(n.innerHTML='\n\t\t\t<div class="m-btn-pagination__icon-wrapper">\n\t\t\t\t<svg class="m-btn-pagination__icon" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n\t\t\t\t\t<path d="M11.0847 8.5H3V7.5H11.0847L7.28717 3.7025L8 3L13 8L8 13L7.28717 12.2975L11.0847 8.5Z" fill="#5C5C64" />\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t',n.classList.add("m-btn-pagination",`m-btn-pagination--${e}`)):(n.classList.add(`m-pagination__${e}`),n.textContent=t),n.disabled=a,"page"===e&&(n.setAttribute("aria-label",i),parseInt(t)===this.currentPage&&n.setAttribute("aria-current","page")),n}createEllipsis(t){const e=document.createElement("span");return e.classList.add("m-pagination__ellipsis"),e.textContent="...",e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label",t),e}navigateToPage(t){t<1||t>this.totalPages||t===this.currentPage||(this.currentPage=t,this.setAttribute("x-current-page",t),this.render(),this.dispatchEvent(new CustomEvent("pageChange",{detail:{currentPage:this.currentPage},bubbles:!0,composed:!0})))}}customElements.define("x-pagination",XPagination);