class InputSanitize{constructor(t){this.inputElement=t,this.emojiRegex=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDE4F]|\uD83D[\uDE80-\uDEFF]|\uD83E[\uDD00-\uDDFF])/g,this.init()}get inputValue(){return this.inputElement.value.trim().replace(/([\uE000-\uF8FF]|\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDDFF])/g,"")}handleInput(){let t=this.sanitizeEmoji(this.inputValue);this.inputElement.value=t}handleKeyDown(t){(this.emojiRegex.test(t.key)||this.inputElement.value.length>=this.inputElement.maxLength)&&t.preventDefault()}handlePaste(t){t.preventDefault();let e=(t.clipboardData||window.clipboardData).getData("text");e=this.sanitizeEmoji(e);const n=this.inputElement.selectionStart,i=this.inputElement.selectionEnd,u=this.inputElement.maxLength-this.inputElement.value.length+(i-n);e.length>u&&(e=e.substring(0,u)),this.inputElement.value=this.inputElement.value.slice(0,n)+e+this.inputElement.value.slice(i),this.inputElement.setSelectionRange(n+e.length,n+e.length)}sanitizeEmoji(t){let e=t;const n=/[\u0023-\u0039]\ufe0f?\u20e3/g,i=/\p{Extended_Pictographic}/gu,u=/\p{Emoji_Component}/gu;if(n.test(e)&&(e=e.replace(n,"")),i.test(e)&&(e=e.replace(i,"")),u.test(e))for(const t of e.match(u)||[])/[\d|*|#]/.test(t)||(e=e.replace(t,""));return e}init(){this.inputElement.addEventListener("input",this.handleInput.bind(this)),this.inputElement.addEventListener("keydown",this.handleKeyDown.bind(this)),this.inputElement.addEventListener("paste",this.handlePaste.bind(this))}}const inputElements=document.querySelectorAll("[input-sanitize]");inputElements.length>0&&inputElements.forEach(t=>{new InputSanitize(t)});