class VerticalScrollbar{constructor(t){this.thumb=t,this.container=this.thumb.closest(".js-verticalScrollbar__container"),this.scroller=this.container.querySelector(".js-verticalScrollbar__scroller"),this.track=this.container.querySelector(".js-verticalScrollbar__track"),this.thumbY={last:0,current:0,eased:0},this.addEventListeners(),this.observeScrollHeightChanges(),requestAnimationFrame(this.tick.bind(this))}lerp(t,e,s=.12){return(1-s)*t+s*e}mapRange(t,e,s,i,r){return((t=this.setBounds(t,e,s))-e)*(r-i)/(s-e)+i}setBounds(t,e,s){return t<e&&(t=e),t>s&&(t=s),t}get thumbHeight(){const t=100*this.offsetHeight/this.scrollHeight;return t<100?t*this.offsetHeight/100:0}setDimensions(){this.scrollHeight=this.scroller.scrollHeight,this.offsetHeight=this.scroller.offsetHeight,this.trackHeight=this.track.offsetHeight,this.thumb.style.height=this.thumbHeight+"px",this.minY=0,this.maxY=this.trackHeight-this.thumbHeight;const t=this.scrollHeight-this.offsetHeight<=0;this.track.setAttribute("aria-hidden",t)}tick(){this.thumbY.eased=this.lerp(this.thumbY.eased,this.thumbY.current,.4),this.thumb.style.transform=`translate3d(0,${this.thumbY.eased}px,0)`,requestAnimationFrame(this.tick.bind(this))}addEventListeners(){this.scroller.addEventListener("scroll",()=>{this.thumbY.current=this.mapRange(this.scroller.scrollTop,0,this.scrollHeight-this.offsetHeight,this.minY,this.maxY)}),window.addEventListener("resize",()=>{clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.setDimensions()},250)}),this.setDimensions()}observeScrollHeightChanges(){new MutationObserver(()=>{this.setDimensions()}).observe(this.scroller,{childList:!0,subtree:!0})}}const verticalScrollThumbs=document.querySelectorAll(".js-verticalScrollbar__thumb");verticalScrollThumbs.length>0&&verticalScrollThumbs.forEach(t=>{t.verticalScrollbarInstance=new VerticalScrollbar(t)});