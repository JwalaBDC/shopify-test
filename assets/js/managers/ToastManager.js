class ToastManager{constructor(){this.buttons=document.querySelectorAll("[toast-btn]"),this.alertBars=[...document.querySelectorAll(".ui-alert-bar")];const t=this.alertBars.filter(t=>!t.closest("main"));this.alertBar=t.length>0?t[t.length-1]:null,this.alertBar&&(this.alertBarText=this.alertBar.querySelector(".ui-alert-bar__text"),this.alertDuration=2e3,this.alertBarTimer=null,this.previousFocus=null,this.init())}reInit(){document.querySelectorAll("[toast-btn]").forEach(t=>{t.addEventListener("click",this.handleButtonClick.bind(this))})}init(){this.buttons.forEach(t=>{t.addEventListener("click",this.handleButtonClick.bind(this))})}handleButtonClick(t){const e=t.currentTarget||t.target.closest("[toast-btn]"),r=e.getAttribute("data-copy-text"),a=e.getAttribute("data-text"),i=e.getAttribute("data-toast-type")||"info";if(this.previousFocus=document.activeElement,"copy-to-clipboard"===i)this.copyTextToClipboard(a,r);else this.showAlert(a)}copyTextToClipboard(t="",e){navigator.clipboard.writeText(e).then(()=>{this.showAlert(t)}).catch(e=>{console.error("Failed to copy text: ",e),this.showAlert(t)})}showAlert(t){this.alertBar.classList.add("ui-alert-bar--center"),this.alertBarTimer=2e3,this.alertBar&&(this.alertBarText.textContent=t,this.alertBar.classList.add("ui-alert-bar--visible"),this.resetAlertBarTimer())}resetAlertBarTimer(){this.alertBarTimer&&clearTimeout(this.alertBarTimer),this.alertBarTimer=setTimeout(()=>{this.alertBar.classList.remove("ui-alert-bar--visible"),this.alertBar.classList.remove("ui-alert-bar--center")},this.alertDuration)}}window.toastManager=new ToastManager;