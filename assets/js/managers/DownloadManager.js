!function(){function t(t){const n=t.target;if(!(n instanceof HTMLElement))return;const o=n.closest("a[download]");if(!o)return;const e=o.href,i=o.getAttribute("download")||e.split("/").pop()?.split("?")[0]||"file";if(e.startsWith(window.location.origin)||!e.startsWith("http://")&&!e.startsWith("https://"))return;t.preventDefault();const r=window.location.origin+window.basepath+`/api/download-file.php?url=${encodeURIComponent(e)}`+`&filename=${encodeURIComponent(i)}`;window.open(r,"_blank")}document.addEventListener("click",t),window.__removeDownloadInterceptor=function(){document.removeEventListener("click",t)}}();