class InputRangeMolecule{constructor(t){this.inputContainer=t,this.rangeInputElements=this.inputContainer.querySelectorAll("input[type='range']"),this.inputWrapper=this.inputContainer.querySelector(".m-input-range__wrapper"),this.isSingleSlider=!this.inputContainer.classList.contains("m-input-range--two-thumb"),this.rangeInputNumbers=this.inputContainer.querySelectorAll("[data-input]"),this.addEventListeners(),this.inputContainer.classList.contains("m-input-range--two-thumb")?this.initializeTwoThumbSlider():this.rangeInputElements.forEach(t=>{this.applyFill(t),this.updateOutput(t)})}addEventListeners(){this.rangeInputElements.forEach(t=>{t.addEventListener("input",this.onInput.bind(this)),t.addEventListener("focus",this.onFocus.bind(this)),t.addEventListener("blur",this.onBlur.bind(this)),this.updateOutput(t)});this.inputContainer.querySelectorAll("[data-input]").forEach(t=>{t.addEventListener("input",this.onTextInput.bind(this))})}onInput(t){this.applyFill(t.target),this.updateOutput(t.target),this.inputContainer.classList.contains("m-input-range--two-thumb")&&this.updateTwoThumbSliders(t)}onTextInput(t){const e=t.target,n=this.inputContainer.querySelector(`input[type='range'][data-range='${e.getAttribute("data-input")}']`);if(n){let t=parseInt(e.value.replace(/[^0-9]/g,""),10);isNaN(t)&&(t=0),t<parseInt(n.min)||t>parseInt(n.max)?t=parseInt(n.value):(n.value=t,this.applyFill(n),this.updateOutput(n)),e.value=`₹${this.formatCurrency(t)}`,e.classList.add("has-value"),this.inputContainer.classList.contains("m-input-range--two-thumb")&&this.updateTwoThumbSliders({target:n})}}onFocus(t){t.target.classList.add("has-focus"),this.inputContainer.classList.add("has-focus-within")}onBlur(t){t.target.classList.remove("has-focus"),this.inputContainer.classList.remove("has-focus-within")}initializeTwoThumbSlider(){this.minGap=1,this.rangeInputElements[0].addEventListener("input",this.slideOne.bind(this)),this.rangeInputElements[1].addEventListener("input",this.slideTwo.bind(this)),this.fillColor()}slideOne(){parseInt(this.rangeInputElements[1].value)-parseInt(this.rangeInputElements[0].value)<=this.minGap&&(this.rangeInputElements[0].value=parseInt(this.rangeInputElements[1].value)-this.minGap),this.updateOutput(this.rangeInputElements[0]),this.fillColor()}slideTwo(){parseInt(this.rangeInputElements[1].value)-parseInt(this.rangeInputElements[0].value)<=this.minGap&&(this.rangeInputElements[1].value=parseInt(this.rangeInputElements[0].value)+this.minGap),this.updateOutput(this.rangeInputElements[1]),this.fillColor()}fillColor(){let t=this.rangeInputElements[0].value/this.rangeInputElements[0].max*100,e=this.rangeInputElements[1].value/this.rangeInputElements[1].max*100;this.inputContainer.querySelector(".m-input-range__slider-track").style.background=`linear-gradient(to right, var(--coolgrey) ${t}%, var(--grey-70) ${t}%, var(--grey-70) ${e}%, var(--coolgrey) ${e}%)`}applyFill(t){if(1===this.rangeInputElements.length){const e=100*(t.value-t.min)/(t.max-t.min),n=`linear-gradient(90deg, var(--grey-70) ${e}%, var(--coolgrey) ${e+.1}%)`;t.style.background=n}}updateOutput(t){this.inputContainer.querySelectorAll(`[data-output='${t.id}']`).forEach(e=>{e.innerHTML=`₹${this.formatCurrency(t.value)}`}),this.updateInputField(t)}updateInputField(t){this.inputContainer.querySelectorAll("[data-input]").forEach(e=>{e.dataset.input==t.dataset.range&&(e.value=`₹${this.formatCurrency(t.value)}`)})}updateTwoThumbSliders(t){this.inputElements=this.inputContainer.querySelectorAll("[data-input]"),t.target.dataset.range===this.inputElements[0].dataset.input?this.slideOne():t.target.dataset.range===this.inputElements[1].dataset.input&&this.slideTwo(),this.fillColor()}formatCurrency(t){return Number(t).toLocaleString()}debounce(t,e){let n;return function(...i){const a=this;clearTimeout(n),n=setTimeout(()=>t.apply(a,i),e)}}}window.formRangeInstances||(window.formRangeInstances=new WeakMap);const initializeFormRangeSlider=()=>{document.querySelectorAll(".m-input-range").forEach(t=>{if(!window.formRangeInstances.has(t)){const e=new InputRangeMolecule(t);window.formRangeInstances.set(t,e)}})};initializeFormRangeSlider();