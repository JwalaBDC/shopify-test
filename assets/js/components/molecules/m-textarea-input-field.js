class TextAreaInput{constructor(t){this.inputElement=t.querySelector(".m-text-input-field__input"),this.inputWrapper=t,this.charCounter=this.createCharCounter(),this.maxLength=parseInt(this.inputElement.getAttribute("maxlength"))||0,this.isRequired=this.inputElement?.hasAttribute("required"),console.log("this.inputWrapper",this.inputWrapper),this.onInput=this.onInput.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.addEventListeners(),this.updateCharCounter()}createCharCounter(){const t=document.createElement("span");return t.className="m-text-input-field__char-counter",t.textContent=`0/${this.maxLength}`,this.inputWrapper.appendChild(t),t}addEventListeners(){this.inputElement?(this.inputElement.addEventListener("input",this.onInput),this.inputElement.addEventListener("focus",this.onFocus),this.inputElement.addEventListener("blur",this.onBlur),""!==this.inputElement.value&&this.updateCharCounter()):console.error("TextArea element not found within the container:",this)}onInput(){this.inputWrapper.classList.remove("is-invalid");let t=this.inputElement.value.replace(/\s+/g," ");this.inputElement.value=t,this.updateCharCounter(),this.inputWrapper.classList.toggle("has-value",!this.isEmpty)}updateCharCounter(){const t=this.inputElement.value.length;this.charCounter.textContent=`${t}/${this.maxLength}`}onFocus(){this.inputWrapper.classList.add("has-focus-within")}onBlur(){this.inputWrapper.classList.remove("has-focus-within"),this.inputWrapper.classList.toggle("has-value",!this.isEmpty)}get inputValue(){return this.inputElement?.value.trim()||""}get isEmpty(){return""===this.inputValue}get isInvalid(){return this.isEmpty&&this.isRequired}reset(){this.inputElement.value="",this.updateCharCounter(),this.inputWrapper.classList.remove("has-value","is-invalid")}}const textAreaFields=document.querySelectorAll("x-textarea-input");textAreaFields.forEach(t=>{new TextAreaInput(t)});