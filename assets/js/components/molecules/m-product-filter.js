class ProductCardFilter{constructor(t){this.container=t,this.tabs=this.container.querySelectorAll("[product-filter-tab]"),this.cardList=this.container.querySelector("[product-filter-card-list]"),this.cards=this.cardList.querySelectorAll("[product-filter-card]"),this.activeTab=null,this.init()}init(){this.tabs.forEach(t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",()=>this.onTabClick(t)),t.addEventListener("keydown",e=>this.onTabKeydown(e,t))})}onTabClick(t){const e=t.getAttribute("product-filter-tab");this.activeTab===t?this.resetFilter():(this.filterCards(e),this.updateTabSelection(t))}onTabKeydown(t,e){"ArrowLeft"!==t.key&&"ArrowUp"!==t.key||(t.preventDefault(),this.focusPreviousTab(e)),"ArrowRight"!==t.key&&"ArrowDown"!==t.key||(t.preventDefault(),this.focusNextTab(e)),"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.onTabClick(e))}filterCards(t){this.cards.forEach(e=>{const i=e.getAttribute("product-filter-card");e.style.display=i===t?"block":"none"})}updateTabSelection(t){this.tabs.forEach(t=>{t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1")}),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),t.focus(),this.activeTab=t}resetFilter(){this.cards.forEach(t=>{t.style.display="block"}),this.tabs.forEach(t=>{t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","0")}),this.activeTab=null}focusPreviousTab(t){const e=Array.from(this.tabs).indexOf(t);(this.tabs[e-1]||this.tabs[this.tabs.length-1]).focus()}focusNextTab(t){const e=Array.from(this.tabs).indexOf(t);(this.tabs[e+1]||this.tabs[0]).focus()}}const productFilterSections=document.querySelectorAll("[product-filter-section]");productFilterSections.length>0&&productFilterSections.forEach(t=>{new ProductCardFilter(t)});