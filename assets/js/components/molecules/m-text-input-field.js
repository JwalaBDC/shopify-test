class TextInputMolecule{constructor(t){this.inputElement=t,this.inputWrapper=this.inputElement.closest(".m-text-input-field__wrapper"),this.isRequired=this.inputElement?.hasAttribute("required"),this.onInput=this.onInput.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onKeydown=this.onKeydown.bind(this),this.addEventListeners()}addEventListeners(){this.inputElement?(this.inputElement.addEventListener("input",this.onInput),this.inputElement.addEventListener("focus",this.onFocus),this.inputElement.addEventListener("blur",this.onBlur),this.inputElement.addEventListener("keydown",this.onKeydown),""!==this.inputElement.value&&this.onFocus()):console.error("Input element not found within the container:",this)}onInput(){this.inputWrapper.classList.remove("is-invalid");let t=this.inputElement.value.replace(/\s+/g," ");this.inputElement.value=t,this.inputWrapper.classList.toggle("has-value",!this.isEmpty)}onFocus(){this.inputWrapper.classList.add("has-focus-within")}onBlur(){this.inputWrapper.classList.remove("has-focus-within"),this.inputWrapper.classList.toggle("has-value",!this.isEmpty)}onKeydown(t){this.isEmpty&&" "===t.key&&t.preventDefault()}get inputValue(){return this.inputElement?.value.trim()||""}get isEmpty(){return""===this.inputValue}get isInvalid(){return this.isEmpty&&this.isRequired}}const textInputFields=document.querySelectorAll(".m-text-input-field__input");textInputFields.forEach(t=>{new TextInputMolecule(t)});